<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>收藏的歌单</title>
    <link rel="stylesheet" href="css/focus.css">
</head>
<body>
<div id="app">
    <div class="box">
        <a v-for="(item, index) in items" :key="index" href="#">
            <img class="img" :src="item.pic">
            <p>{{ item.title }}</p>
        </a>
    </div>
</div>
<script src="../../plugins/vue/vue.js"></script>
<script>
    new Vue({
        el: "#app",
        data() {
            return {
                items: [
                    {id: 1, pic: "../../image/tx.jpg", title: "陈奕迅"},
                    {id: 2, pic: "../../image/tx.jpg", title: "陈奕迅"},
                    {id: 3, pic: "../../image/tx.jpg", title: "陈奕迅"},
                ]
            };
        },
        mounted() {
            this.getSongList();
        },
        methods: {
            //获取用户信息
            getSongList() {
                axios({
                    url: "/collect/getCollectSongList",
                    method: "get",
                }).then(resp => {
                    if (resp.data.code == 1) {
                        this.items = resp.data.data;
                        for (let i = 0; i < this.items.length; i++) {
                            this.items[i].pic = `/common/download?name=` + this.items[i].pic;
                        }
                    } else {
                        this.$message.error(resp.data.msg);
                    }
                })
            },
        }
    })
</script>
</body>
</html>